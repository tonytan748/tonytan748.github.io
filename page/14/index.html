<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>Tony Tan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Tony Tan">
<meta name="keywords" content="Tony Tan">
<meta property="og:type" content="website">
<meta property="og:title" content="Tony Tan">
<meta property="og:url" content="https://tonytan748.github.io/page/14/index.html">
<meta property="og:site_name" content="Tony Tan">
<meta property="og:description" content="Tony Tan">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Tony Tan">
<meta name="twitter:description" content="Tony Tan">
  
    <link rel="alternate" href="/atom.xml" title="Tony Tan" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Tony Tan</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">a python progrmmer</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://tonytan748.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-urllib2---user-agent" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/12/urllib2---user-agent/" class="article-date">
  <time datetime="2014-07-11T16:00:00.000Z" itemprop="datePublished">2014-07-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/12/urllib2---user-agent/">Urllib2   User Agent</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><em>This post will show how to add headers to a HTTP request.</em></p>
<p><pre><br>This post will show how to add headers to a HTTP request.</pre></p>
<p>By default urllib2 identifies itself as Python-urllib/2.7 : GET / HTTP/1.1” 200<br>151 “-“ “Python-urllib/2.7”</p>
<p>That can sometimes be confusing for certain sites. With the user_agent header in<br>Python, it’s possible to alter that and specify any identity you like.<br></p>
<p><pre><br>The example below, use the Mozilla 5.10 as a User Agent, and that is also what<br>will show up in the web server log file.<br></pre></p>
<p><pre><br>import urllib2</pre></p>
<p>req = urllib2.Request(‘<a href="http://192.168.1.2/&#39;" target="_blank" rel="noopener">http://192.168.1.2/&#39;</a>)</p>
<p>req.add_header(‘User-agent’, ‘Mozilla 5.10’)</p>
<p>res = urllib2.urlopen(req)</p>
<p>html = res.read()<br><br>This is what will show up in the log file.<br>“GET / HTTP/1.1” 200 151 “-“ “Mozilla 5.10”</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://tonytan748.github.io/2014/07/12/urllib2---user-agent/" data-id="cm50h3r760011yfhtm0dq1abj" class="article-share-link">Share</a>
      
        <a href="https://tonytan748.github.io/2014/07/12/urllib2---user-agent/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-using-telnet-in-python" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/12/using-telnet-in-python/" class="article-date">
  <time datetime="2014-07-11T16:00:00.000Z" itemprop="datePublished">2014-07-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/12/using-telnet-in-python/">Using Telnet in Python</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><em>To make use of Telnet in Python, we can use the telnetlib module. </em></p>
<p></p><h3>Using Telnet in Python</h3><br>To make use of Telnet in Python, we can use the telnetlib module. <p></p>
<p>That module provides a Telnet class that implements the Telnet protocol.</p>
<p>The Telnet module have several methods, in this example I will make use of these:<br>read_until, read_all() and write()</p>
<p></p><h3>Telnet Script in Python</h3><br>Let’s make a telnet script<p></p>
<pre>
import getpass
import sys
import telnetlib

HOST = "hostname"

user = raw_input("Enter your remote account: ")

password = getpass.getpass()

tn = telnetlib.Telnet(HOST)

tn.read_until("login: ")

tn.write(user + "\n")

if password:
    tn.read_until("Password: ")
    tn.write(password + "\n")

tn.write("ls\n")

tn.write("exit\n")

print tn.read_all()

</pre>

<p>At ActiveState you can find more Python scripts using the telnetlib,<br>for example <a href="http://code.activestate.com/recipes/52228/" target="_blank" rel="noopener">this</a> script.</p>
<p>For more information about using the Telnet client in Python, please see the<br><a href="http://docs.python.org/2/library/telnetlib.html" target="_blank" rel="noopener">official documentation</a>. </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://tonytan748.github.io/2014/07/12/using-telnet-in-python/" data-id="cm50h3r780014yfhtorpjgnvk" class="article-share-link">Share</a>
      
        <a href="https://tonytan748.github.io/2014/07/12/using-telnet-in-python/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-make-your-life-easier-with-virtualenvwrapper" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/03/make-your-life-easier-with-virtualenvwrapper/" class="article-date">
  <time datetime="2014-07-02T16:00:00.000Z" itemprop="datePublished">2014-07-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/03/make-your-life-easier-with-virtualenvwrapper/">Make your life easier with Virtualenvwrapper</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><em>When you do a lot of Python programming, you can make a mess of your system with Pip. Different apps need different requirements. One app needs version 1.2 of a package and another one needs 1.5. And then… you’re in trouble.</em></p>
<p>When you want to know what packages have been installed by Pip, use this:</p>
<pre>
$ pip freeze
</pre>

<p>The result can be a very long list.</p>
<p>For every project, whether it’s a simple application or a giant Django project, I create a new virtual environment with virtualenv. An easy way to do this is by using virtualenvwrapper.</p>
<p></p><h3>Getting started with Virtualenv wrapper</h3><p></p>
<pre>
$ sudo pip install virtualenvwrapper
</pre>
There are some advanced settings which you can find in the manual.

When installed, let's make a new environment called "testground".
<pre>
$ mkvirtualenv testground
</pre>
If your virtualenvwrapper is working well, you should see something like this:
<pre>
New python executable in testground/bin/python
Installing Setuptools.........done.
Installing Pip..............done.
virtualenvwrapper.user_scripts creating /home/yourname/.virtualenvs/testground/bin/predeactivate
virtualenvwrapper.user_scripts creating /home/yourname/.virtualenvs/testground/bin/postdeactivate
virtualenvwrapper.user_scripts creating /home/yourname/.virtualenvs/testground/bin/preactivate
virtualenvwrapper.user_scripts creating /home/yourname/.virtualenvs/testground/bin/postactivate
virtualenvwrapper.user_scripts creating /home/yourname/.virtualenvs/testground/bin/get_env_details

(testground)yourname@yoursystem:~$ 
</pre>

<p>Take a look at the last line, which now says (testground) before the prompt. Your virtual environment is there, and your are in it.</p>
<p>Now, do a pip freeze, it can result in something like this:</p>
<pre>
$ pip freeze
argparse==1.2.1
wsgiref==0.1.2
</pre>

<p>That list can be a lot shorter than the one outside the environment.</p>
<p>You can now install something that only effects this environment. Let’s try Pillow, version 2.2.2.</p>
<pre>
$ pip install Pillow==2.2.2
</pre>
It will now try to install Pillow, when finished, do another pip fip freeze, and see if it's installed

<h3>Switchting between virtualenvs</h3>
Let's create another environment:
<pre>
$ mkvirtualenv coolapp
</pre>
once it's finished, it should have been activated automatically:
<pre>
...................done.
virtualenvwrapper.user_scripts creating /home/yourname/.virtualenvs/coolapp/bin/predeactivate
virtualenvwrapper.user_scripts creating /home/yourname/.virtualenvs/coolapp/bin/postdeactivate
virtualenvwrapper.user_scripts creating /home/yourname/.virtualenvs/coolapp/bin/preactivate
virtualenvwrapper.user_scripts creating /home/yourname/.virtualenvs/coolapp/bin/postactivate
virtualenvwrapper.user_scripts creating /home/yourname/.virtualenvs/coolapp/bin/get_env_details
(coolapp)yourname@yoursystem:~$ 
</pre>
Now, let's switch to fist the virtualenv we made by the magic word "workon":
<pre>
$ workon testground
(testground)yourname@yoursystem:~$ 
</pre>
There you go, it's as simpel as that

<h3>No site packages</h3>
Like with vitualenv, you can tell virtualenvwapper not to use the systems sitepackages with --no-site-packages:
<pre>
$ mkvirtualenv anotherenv --no-site-packages
</pre>
<h3>Remove a virtual environment</h3>
It's very easy to get rid of a virtual env by using rmvirtualenv:
<pre>
$ rmvirtualenv coolapp

Removing coolapp...
</pre>

<p></p><h3>List all virtualenvs</h3><p></p>
<pre>
$lsvirtualenv
</pre>

<p></p><h3>List your sitepackages</h3><p></p>
<pre>
$ lssitepackages

#can result in this:
easy_install.py   Pillow-2.2.2-py2.7.egg-info  pkg_resources.pyc
easy_install.pyc  pip                          setuptools
_markerlib        pip-1.4.1-py2.7.egg-info     setuptools-0.9.8-py2.7.egg-info
PIL               pkg_resources.py
</pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://tonytan748.github.io/2014/07/03/make-your-life-easier-with-virtualenvwrapper/" data-id="cm50h3r6u000uyfhtu5qgc9ze" class="article-share-link">Share</a>
      
        <a href="https://tonytan748.github.io/2014/07/03/make-your-life-easier-with-virtualenvwrapper/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-python-cgi-programming" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/03/python-cgi-programming/" class="article-date">
  <time datetime="2014-07-02T16:00:00.000Z" itemprop="datePublished">2014-07-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/03/python-cgi-programming/">Python CGI Programming</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><em>How to write code in CGI programing</em></p>
<h3>What is CGI?</h3><br><ul><br><li>The Common Gateway Interface, or CGI, is a set of standards that define how information is exchanged between the web server and a custom script.</li><br><li>The CGI specs are currently maintained by the NCSA and NCSA defines CGI is as follows:</li><br><li>The Common Gateway Interface, or CGI, is a standard for external gateway programs to interface with information servers such as HTTP servers.</li><br><li>The current version is CGI/1.1 and CGI/1.2 is under progress.</li><br></ul><br><br><h3>Web Browsing</h3><br>To understand the concept of CGI, lets see what happens when we click a hyper link to browse a particular web page or URL.<br><ul><br><li>Your browser contacts the HTTP web server and demands for the URL i.e., filename.</li><br><li>Web Server will parse the URL and will look for the filename in if it finds that file then sends it back to the browser, otherwise sends an error message indicating that you have requested a wrong file.</li><br><li>Web browser takes response from web server and displays either the received file or error message.</li><br></ul><br>However, it is possible to set up the HTTP server so that whenever a file in a certain directory is requested that file is not sent back; instead it is executed as a program, and whatever that program outputs is sent back for your browser to display. This function is called the Common Gateway Interface or CGI and the programs are called CGI scripts. These CGI programs can be a Python Script, PERL Script, Shell Script, C or C++ program, etc.<br><br><h3>CGI Architecture Diagram</h3>

<p></p><h3>Web Server Support &amp; Configuration</h3><br>Before you proceed with CGI Programming, make sure that your Web Server supports CGI and it is configured to handle CGI Programs. All the CGI Programs to be executed by the HTTP server are kept in a pre-configured directory. This directory is called CGI Directory and by convention it is named as /var/www/cgi-bin. By convention, CGI files will have extension as .cgi, but you can keep your files with python extension .py as well.<p></p>
<p>By default, the Linux server is configured to run only the scripts in the cgi-bin directory in /var/www. If you want to specify any other directory to run your CGI scripts, comment the following lines in the httpd.conf file:</p>
<pre>
<directory " var www cgi-bin">
   AllowOverride None
   Options ExecCGI
   Order allow,deny
   Allow from all
</directory>

<directory " var www cgi-bin">
Options All
</directory>
</pre>
Here, I assumed that you have Web Server up and running successfully and you are able to run any other CGI program like Perl or Shell, etc.

<h3>First CGI Program</h3>
Here is a simple link, which is linked to a CGI script called hello.py. This file is being kept in /var/www/cgi-bin directory and it has following content. Before running your CGI program, make sure you have change mode of file using chmod 755 hello.py UNIX command to make file executable.
<pre>
#!/usr/bin/python

print "Content-type:text/html\r\n\r\n"
print '<html>'
print '<head><meta name="generator" content="Hexo 3.9.0">'
print '<title>Hello Word - First CGI Program</title>'
print '</head>'
print '<body>'
print '<h2>Hello Word! This is my first CGI program</h2>'
print '</body>'
print '</html>'
</pre>
If you click hello.py, then this produces the following output:
<pre>
Hello Word! This is my first CGI program
</pre>
This hello.py script is a simple Python script, which is writing its output on STDOUT file i.e., screen. There is one important and extra feature available which is first line to be printed <b>Content-type:text/html\r\n\r\n</b>. This line is sent back to the browser and specifiy the content type to be displayed on the browser screen.
Now, you must have understood basic concept of CGI and you can write many complicated CGI programs using Python. This script can interact with any other external system also to exchange information such as RDBMS.

<h3>HTTP Header</h3>
The line <b>Content-type:text/html\r\n\r\n</b> is part of HTTP header which is sent to the browser to understand the content. All the HTTP header will be in the following form:
<pre>
HTTP Field Name: Field Content

For Example
Content-type: text/html\r\n\r\n
</pre>
There are few other important HTTP headers, which you will use frequently in your CGI Programming.
Header    |Description
___________________
Content-type:    |A MIME string defining the format of the file being returned. Example is Content-type:text/html
_________________
Expires: Date    |The date the information becomes invalid. This should be used by the browser to decide when a page needs to be refreshed. A valid date string should be in the format 01 Jan 1998 12:00:00 GMT.
_____________________
Location: URL    |The URL that should be returned instead of the URL requested. You can use this field to redirect a request to any file.
_______________
Last-modified: Date    |The date of last modification of the resource.
_______________
Content-length: N    |The length, in bytes, of the data being returned. The browser uses this value to report the estimated download time for a file.
_______________
Set-Cookie: String    |Set the cookie passed through the string

<h3>CGI Environment Variables</h3>
All the CGI program will have access to the following environment variables. These variables play an important role while writing any CGI program.
<table>
<thead>
    <tr>
        <th>Variable Name</th>
        <th>Description</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td>CONTENT_TYPE</td>
        <td>The data type of the content. Used when the client is sending attached content to the server. For example, file upload, etc.</td>
    </tr>
    <tr>
        <td>CONTENT_LENGTH</td>
        <td>The length of the query information. It's available only for POST requests.</td>
    </tr>
    <tr>
        <td>HTTP_COOKIE</td>
        <td>Returns the set cookies in the form of key & value pair.</td>
    </tr>
    <tr>
        <td>HTTP_USER_AGENT</td>
        <td>The User-Agent request-header field contains information about the user agent originating the request. Its name of the web browser.</td>
    </tr>
    <tr>
        <td>PATH_INFO</td>
        <td>The path for the CGI script.</td>
    </tr>
    <tr>
        <td>QUERY_STRING</td>
        <td>The URL-encoded information that is sent with GET method request.</td>
    </tr>
    <tr>
        <td>REMOTE_ADDR</td>
        <td>The IP address of the remote host making the request. This can be useful for logging or for authentication purpose.</td>
    </tr>
    <tr>
        <td>REMOTE_HOST</td>
        <td>The fully qualified name of the host making the request. If this information is not available then REMOTE_ADDR can be used to get IR address.</td>
    </tr>
    <tr>
        <td>REQUEST_METHOD</td>
        <td>The method used to make the request. The most common methods are GET and POST.</td>
    </tr>
    <tr>
        <td>SCRIPT_FILENAME</td>
        <td>The full path to the CGI script.</td>
    </tr>
    <tr>
        <td>SCRIPT_NAME</td>
        <td>The name of the CGI script.</td>
    </tr>
    <tr>
        <td>SERVER_NAME</td>
        <td>The server's hostname or IP Address</td>
    </tr>
    <tr>
        <td>SERVER_SOFTWARE</td>
        <td>The name and version of the software the server is running.</td>
    </tr>
</tbody>
</table>
Here is small CGI program to list out all the CGI variables. Click this link to see the result <font color="red">Get Environment</font>
<pre>
#!/usr/bin/python

import os

print "Content-type: text/html\r\n\r\n";
print "<font size="+1">Environment</font><\br>";
for param in os.environ.keys():
  print "<b>%20s</b>: %s<\br>" % (param, os.environ[param])
</\br></\br></pre>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://tonytan748.github.io/2014/07/03/python-cgi-programming/" data-id="cm50h3r6z000zyfhteiumqm6x" class="article-share-link">Share</a>
      
        <a href="https://tonytan748.github.io/2014/07/03/python-cgi-programming/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-how-to-use-date-and-time-in-python" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/02/how-to-use-date-and-time-in-python/" class="article-date">
  <time datetime="2014-07-01T16:00:00.000Z" itemprop="datePublished">2014-07-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/02/how-to-use-date-and-time-in-python/">How to use Date and Time in Python</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><em>This post will show some examples using Pythons datetime and time modules.</em></p>
<p></p><h3>Date and Time Example</h3><p></p>
<p>Let’s see what we can do with the datetime and time modules in Python</p><br><pre><br>import time<br>import datetime<br><br>print “Time in seconds since the epoch: %s” %time.time()<br>print “Current date and time: “ , datetime.datetime.now()<br>print “Or like this: “ ,datetime.datetime.now().strftime(“%y-%m-%d-%H-%M”)<br><br><br>print “Current year: “, datetime.date.today().strftime(“%Y”)<br>print “Month of year: “, datetime.date.today().strftime(“%B”)<br>print “Week number of the year: “, datetime.date.today().strftime(“%W”)<br>print “Weekday of the week: “, datetime.date.today().strftime(“%w”)<br>print “Day of year: “, datetime.date.today().strftime(“%j”)<br>print “Day of the month : “, datetime.date.today().strftime(“%d”)<br>print “Day of week: “, datetime.date.today().strftime(“%A”)<br></pre><br><br><h3>Output</h3><br>That will print out something like this:<br><p><br>Time in seconds since the epoch:     1349271346.46<br>Current date and time:          2012-10-03 15:35:46.461491<br>Or like this:                 12-10-03-15-35<br>Current year:                  2012<br>Month of year:              October<br>Week number of the year:          40<br>Weekday of the week:              3<br>Day of year:                  277<br>Day of the month :              03<br>Day of week:                  Wednesday<br></p>

<p>Getting the weekday of a certain date (your pet’s birthday).</p>
<pre>
import datetime

mydate = datetime.date(1943,3, 13)  #year, month, day
print(mydate.strftime("%A"))

</pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://tonytan748.github.io/2014/07/02/how-to-use-date-and-time-in-python/" data-id="cm50h3r6t000ryfhtxtxj20b6" class="article-share-link">Share</a>
      
        <a href="https://tonytan748.github.io/2014/07/02/how-to-use-date-and-time-in-python/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-models-in-python" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/01/models-in-python/" class="article-date">
  <time datetime="2014-06-30T16:00:00.000Z" itemprop="datePublished">2014-07-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/01/models-in-python/">Models in Python</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><em>In this part of the Python programming tutorial, we will talk about Python modules.</em></p>
<p>A <b>module</b> is a file in which we have Python code. The modules in Python have the .py extension.<br>There are several ways to manage Python code:</p>
<p><ul></ul></p>
<p><li>functions</li></p>
<p><li>classes</li></p>
<p><li>modules</li></p>
<p><li>packages</li><br><br>Python modules are used to organize Python code. For example, database related code is placed inside a database module, security code in a security module etc. Smaller Python scripts can have one module. But larger programs are split into several modules. Modules are grouped together to form packages.</p>
<p></p><h3>Module names</h3><br>A module name is the file name with the .py extension. When we have a file called empty.py, empty is the module name. The <strong>name</strong> is a variable that holds the name of the module being referenced. The current module, the module being executed (called also the main module) has a special name: ‘<strong>main</strong>‘. With this name it can be referenced from the Python code.<p></p>
<p>We have two files. empty.py and modulename.py. The second module is the main module, which is executed. It imports the first module. Modules are imported using the import keyword.</p>
<p><pre><br>$ cat empty.py<br>“””<br>An empty module<br>“””<br></pre><br>This is empty.py module.</p>
<p><pre></pre></p>
<p>#!/usr/bin/python</p>
<p>import empty<br>import sys</p>
<p>print <strong>name</strong><br>print empty.<strong>name</strong><br>print sys.<strong>name</strong><br><br>In this code example we import two modules. One built-in module (sys) and one custom module (empty). We print the names of modules to the console.</p>
<p><pre><br>$ ./modulename.py<br><strong>main</strong><br>empty<br>sys<br></pre><br>The name of the module, which is being executed is always ‘<strong>main</strong>‘. Other modules are named after the file name. Modules can be imported into other modules using the import keyword.</p>
<p></p><h3>Locating modules</h3><br>When a module is imported the interpreter first searches for a built-in module with that name. If not found, it then searches in a list of directories given by the variable sys.path. The sys.path is a list of strings that specifies the search path for modules. It consists of the current working directory, directory names specified in the <b>PYTHONPATH</b> environment variable plus some additional installation dependent directories. If the module is not found, an ImportError is raised.<p></p>
<p><pre></pre></p>
<p>#!/usr/bin/python</p>
<p>import sys<br>import textwrap</p>
<p>sp = sorted(sys.path)<br>dnames = ‘, ‘.join(sp)</p>
<p>print textwrap.fill(dnames)<br><br>The script prints all directories from sys.path variable.</p>
<p><pre><br>import textwrap<br></pre><br>The textwrap module is used for easy formatting of paragraphs.</p>
<p><pre><br>sp = sorted(sys.path)<br></pre><br>We retrieve a list of directories from the sys.path variable and sort them.</p>
<p><pre><br>dnames = ‘, ‘.join(sp)<br></pre><br>We make a string out of the list.</p>
<p><pre><br>$ ./syspath.py<br>/home/janbodnar/programming/python/modules,<br>/usr/lib/pymodules/python2.7, /usr/lib/python2.7, /usr/lib/python2.7<br>/dist-packages, /usr/lib/python2.7/dist-packages/PIL,<br>…<br></pre><br>Sample output.</p>
<p></p><h3>The import keyword</h3><br>The import keyword can be used in several ways.<p></p>
<p><pre><br>from module import *<br></pre><br>This construct will import all Python definitions into the namespace of another module. There is one exception. Objects beginning with underscore character _ are not imported. They are expected to be used only internally by the module being imported. This way of importing modules is not recommended.</p>
<p><pre></pre></p>
<p>#!/usr/bin/python</p>
<p>from math import *</p>
<p>print cos(3)<br>print pi<br><br>This import construct has imported all definitions from the built-in math module. We can call the math funtcions directly, without referencing the math module.</p>
<p><pre><br>$ ./everything.py<br>-0.9899924966<br>3.14159265359<br></pre><br>The use of this import construct may result in namespace pollution. We may have several objects of the same name and their definitions can be overriden.</p>
<p><pre></pre></p>
<p>#!/usr/bin/python</p>
<p>from math import  *</p>
<p>pi = 3.14</p>
<p>print cos(3)<br>print pi<br><br>The example will print 3.14 to the console. Which may not be, what we wanted. The namespace pollution may become critical in larger projects.</p>
<p>The following example will show definitions, that are not being imported using this import construct.</p>
<p><pre></pre></p>
<p>#!/usr/bin/python</p>
<p>“””<br>names is a test module<br>“””</p>
<p>_version = 1.0</p>
<p>names = [“Paul”, “Frank”, “Jessica”, “Thomas”, “Katherine”]</p>
<p>def show_names():<br>   for i in names:<br>      print i</p>
<p>def _show_version():<br>   print _version<br><br>This is the names.py module.</p>
<p><pre></pre></p>
<p>#!/usr/bin/python</p>
<p>from names import *</p>
<p>print locals()</p>
<p>show_names()<br><br>The _version variable and the _show_version() function are not imported into the private.py module. We don’t see them in the namespace. The locals() function give us all the definitions available in the private module.</p>
<p><pre><br>$ ./private.py<br>{‘<strong>builtins</strong>‘: <module '__builtin__' (built-in)>, ‘<strong>file</strong>‘: ‘./private.py’,<br>‘show_names’: <function show_names at 0xb7dd233c>,<br>‘names’: [‘Paul’, ‘Frank’, ‘Jessica’, ‘Thomas’, ‘Katherine’],<br> ‘<strong>name</strong>‘: ‘<strong>main</strong>‘, ‘<strong>doc</strong>‘: None}<br>Paul<br>Frank<br>Jessica<br>Thomas<br>Katherine<br></function></module></pre></p>
<p><hr></p>
<p><pre><br>from module import fun, var<br></pre><br>This import construct imports only specific objects from a module. This way we import only definitions that we need.</p>
<p><pre></pre></p>
<p>#!/usr/bin/python</p>
<p>from math import sin, pi</p>
<p>print sin(3)<br>print pi<br><br>We import two objects from the math module. There is no way, how we could reference other definitions like e.g. a cos function.</p>
<p><pre></pre></p>
<p>#!/usr/bin/python</p>
<p>from names import _version, _show_version</p>
<p>print _version<br>_show_version()<br><br>We could also import definitions beginning with an underscore. But this is a bad practice.</p>
<p><pre><br>$ ./imnames.py<br>1.0<br>1.0<br></pre></p>
<p><hr></p>
<p><pre><br>import module<br></pre><br>The last construct is most widely used. It prevents the namespace pollution and enables to access all definitios from a module.</p>
<p><pre></pre></p>
<p>#!/usr/bin/python</p>
<p>import math</p>
<p>pi = 3.14</p>
<p>print math.cos(3)<br>print math.pi<br>print math.sin(3)<br>print pi<br><br>In this case, we reference the definitions via the module name. As we can see, we are able to use both pi variables. Our definition and the one from the math module.</p>
<p><pre><br>$ ./widely.py<br>-0.9899924966<br>3.14159265359<br>0.14112000806<br>3.14<br></pre></p>
<p><pre></pre></p>
<p>#!/usr/bin/python</p>
<h1 id="importas-py"><a href="#importas-py" class="headerlink" title="importas.py"></a>importas.py</h1><p>import math as m</p>
<p>print m.pi<br>print m.cos(3)<br><br>We can change the name through which we can reference the module. To do this, we use the as keyword.</p>
<p><pre><br>$ ./importas.py<br>3.14159265359<br>-0.9899924966<br></pre></p>
<p><hr><br>An ImportError is raised, if a module cannot be imported.</p>
<p><pre></pre></p>
<p>#!/usr/bin/python</p>
<p>try:<br>    import empty2<br>except ImportError, e:<br>    print ‘Failed to import:’, e<br><br>We have not created an empty2 module. Therefore an exception is raised.</p>
<p><pre><br>$ ./importerror.py<br>Failed to import: No module named empty2<br></pre><br>Output.</p>
<p></p><h3>Executing modules</h3><br>Modules can be imported into other modules or they can be also executed. Module authors often create a testing suite to test the module. Only if the module is executed as a script, the <strong>name</strong> attribute equals to <strong>main</strong>.<br>We will demonstrate this on a fibonacci module. Fibonacci numbers is a sequence of numbers, where each is the sum of its two immediate predecessors.<p></p>
<p><pre></pre></p>
<blockquote>
<p>   #!/usr/bin/python</p>
<p>   “””<br>   A module containing the fibonacci<br>   function.<br>   “””</p>
<p>   def fib(n):<br>       a, b = 0, 1<br>       while b &lt; n:<br>           print b,<br>           (a, b) = (b, a + b)</p>
<h1 id="testing"><a href="#testing" class="headerlink" title="testing"></a>testing</h1><p>   if <strong>name</strong> == ‘<strong>main</strong>‘:<br>      fib(500)<br><br>The module can be normally imported as usual. The module can be also executed.</p>
</blockquote>
<p><pre><br>$ ./fibonacci.py<br>1 1 2 3 5 8 13 21 34 55 89 144 233 377<br></pre><br>If we do import the fibonacci module, the test is not executed automatically.</p>
<p><pre></pre></p>
<blockquote>
<blockquote>
<blockquote>
<p>import fibonacci as fib<br>fib.fib(500)<br>1 1 2 3 5 8 13 21 34 55 89 144 233 377<br><br>The fibonacci module is imported and the fib() function is executed.</p>
</blockquote>
</blockquote>
</blockquote>
<p></p><h3>The dir() function</h3><br>The built-in dir() function gives a sorted list of strings containing the names defined by a module.<p></p>
<p><pre></pre></p>
<p>#!/usr/bin/python</p>
<p>“””<br>This is dirfun module<br>“””</p>
<p>import math, sys</p>
<p>version = 1.0</p>
<p>names = [“Paul”, “Frank”, “Jessica”, “Thomas”, “Katherine”]</p>
<p>def show_names():</p>
<p>   for i in names:<br>      print i</p>
<p>print dir(sys.modules[‘<strong>main</strong>‘])<br><br>In this module, we import two system modules. We define a variable, a list and a function.</p>
<p><pre><br>print dir(sys.modules[‘<strong>main</strong>‘])<br></pre><br>The dir() function returns all the names available in the current namespace of the module. ‘<strong>main</strong>‘ is the name of the current module. The sys.modules is a dictionary that maps module names to modules which have already been loaded.</p>
<p><pre><br>$ ./dirfun.py<br>[‘<strong>builtins</strong>‘, ‘<strong>doc</strong>‘, ‘<strong>file</strong>‘, ‘<strong>name</strong>‘, ‘<strong>package</strong>‘, ‘math’,<br>‘names’, ‘show_names’, ‘sys’, ‘version’]<br></pre><br>We can see some built-in names like ‘<strong>file</strong>‘ or ‘<strong>name</strong>‘ and all the others, that we have defined.</p>
<p></p><h3>The globals() function</h3><br>The globals() function returns a dictionary that represents the current global namespace. It is a dictionary of global names and their values. It is the dictionary of the current module.<p></p>
<p><pre></pre></p>
<p>#!/usr/bin/python</p>
<p>import sys<br>import textwrap</p>
<p>version = 1.0</p>
<p>def myfun():<br>    pass</p>
<p>gl = globals()<br>gnames = ‘, ‘.join(gl)</p>
<p>print textwrap.fill(gnames)<br><br>We use the globals() function to print all the global names of the current module.</p>
<p><pre><br>$ ./globalsfun.py<br><strong>builtins</strong>, <strong>file</strong>, textwrap, <strong>package</strong>, sys, myfun, version,<br><strong>name</strong>, gl, <strong>doc</strong><br></pre><br>These are the global names of the current module.</p>
<p></p><h3>The <strong>module</strong> attribute</h3><br>The <strong>module</strong> class attribute has the name of the module in which the class is defined.<p></p>
<p><pre><br>“””<br>module animals<br>“””</pre></p>
<p>class Cat:<br>  pass</p>
<p>class Dog:<br>  pass<br><br>This are the contents of the animals.py file. We have two classes.</p>
<p><pre></pre></p>
<p>#!/usr/bin/python</p>
<p>from animals import Cat</p>
<p>class Being:<br>    pass</p>
<p>b = Being()<br>print b.<strong>module</strong></p>
<p>c = Cat()<br>print c.<strong>module</strong><br><br>In this code we use the <strong>module</strong> attribute.</p>
<p><pre><br>from animals import Cat<br></pre><br>From the animals module, we import the Cat class.</p>
<p><pre><br>class Being:<br>    pass<br></pre><br>In the current module, we define a class Being.</p>
<p><pre><br>b = Being()<br>print b.<strong>module</strong><br></pre><br>An instance of the Being class is created. We print the name of its module.</p>
<p><pre><br>c = Cat()<br>print c.<strong>module</strong><br></pre><br>We create an object from the Cat class. We also print the module, where it was defined.</p>
<p><pre><br>$ ./mclass.py<br><strong>main</strong><br>animals<br></pre><br>The current module’s name is <strong>main</strong>. And the Cat’s module name is animals.</p>
<p>This chapter was about modules in Python.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://tonytan748.github.io/2014/07/01/models-in-python/" data-id="cm50h3r6q000nyfhtxa4uy1cw" class="article-share-link">Share</a>
      
        <a href="https://tonytan748.github.io/2014/07/01/models-in-python/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-object-oriented-programming-in-python" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/30/object-oriented-programming-in-python/" class="article-date">
  <time datetime="2014-06-29T16:00:00.000Z" itemprop="datePublished">2014-06-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/30/object-oriented-programming-in-python/">Object oriented programming in Python</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><em>In this part of the Python programming tutorial, we will talk about object oriented programming in Python.</em></p>
<p>There are three widely used programming paradigms there. Procedural programming, functional programming and object-oriented programming. Python supports both procedural and object-oriented programming. There is some limited support for f unctional programming too.</p>
<p></p><h4>Object-oriented programming (OOP)</h4> is a programming paradigm that uses objects and their interactions to design applications and computer programs. (Wikipedia)<br>There are some basic programming concepts in OOP:<p></p>
<ul><br><li>Abstraction</li><br><li>Polymorphism</li><br><li>Encapsulation</li><br><li>Inheritance</li><br></ul>

<p>The <b>abstraction</b> is simplifying complex reality by modelling classes appropriate to the problem. The <b>polymorphism</b> is the process of using an operator or function in different ways for different data input. The <b>encapsulation</b> hides the implementation details of a class from other objects. The <b>inheritance</b> is a way to form new classes using classes that have already been defined.</p>
<p></p><h3>Objects</h3><br>Everything in Python is an object. Objects are basic building blocks of a Python OOP program.<p></p>
<pre>
#!/usr/bin/python

# objects.py

import sys

def function(): pass

print type(1)
print type("")
print type([])
print type({})
print type(())
print type(object)
print type(function)
print type(sys)
</pre>

<p>In this example we show, that all these entities are in fact objects. The <font color="blue">type()</font> function returns the type of the object specified.</p>
<pre>
$ ./objects.py 
<type 'int'>
<type 'str'>
<type 'list'>
<type 'dict'>
<type 'tuple'>
<type 'type'>
<type 'function'>
<type 'module'>
</type></type></type></type></type></type></type></type></pre>

<p></p><h3>The class keyword</h3><br>The previous objects were all built-in objects of the Python programming language. The user defined objects are created using the <font color="blue">class</font> keyword. The class is a blueprint that defines a nature of a future object. From classes we construct instances. An <b>instance</b> is a specific object created from a particular class. For example, Huck might be an instance of a Dog class.<p></p>
<pre>
#!/usr/bin/python

# first.py

class First:
   pass

fr = First()

print type(fr)
print type(First)
</pre>
This is our first class. The body of the class is left empty for now. It is a convention to give classes a name that starts with a capital letter.
<pre>
fr = First()
</pre>
Here we create a new instance of the First class. Or in other words, we instantiate the First class. The fr is a reference to our new object.
<pre>
$ ./first.py 
<type 'instance'>
<type 'classobj'>
</type></type></pre>
Here we see that fr is an instance object and First is a class object.
Inside a class, we can define attributes and methods. An <b>attribute</b> is a characteristic of an object. This can be for example a salary of an employee. A <b>method</b> defines operations that we can perform with our objects. A method might define a cancellation of an account. Technically, attributes are variables and methods are functions defined inside a class.

<h3>Attributes</h3>
Attributes are characteristics of an object. A special method called <font color="blue">__init__()</font> is used to initialize the attributes of an object.
<pre>
#!/usr/bin/python

# initialize.py

class Cat:
   def __init__(self, name):
      self.name = name

missy = Cat('Missy')
lucky = Cat('Lucky')

print missy.name
print lucky.name
</pre>
In this code example, we have a Cat class. The special method <font color="blue">__init__()</font> is called automatically right after the object has been created.
<pre>
def __init__(self, name):
</pre>
Each method in a class definition begins with a reference to the instance object. It is by convention named self. There is nothing special about the self name. We could name it this, for example. The name is the argument. The value is passed during the class instantiation.
<pre>
self.name = name
</pre>
Here we pass an attribute to an instance object.
<pre>
missy = Cat('Missy')
lucky = Cat('Lucky')
</pre>
Here we instantiate two objects. Missy and Lucky cats. The number of arguments must correspond to the <font color="blue">__init__()</font> method of the class definition. The 'Missy' and 'Lucky' strings become the name parameter of the <font color="blue">__init__()</font> method.
<pre>
print missy.name
print lucky.name
</pre>
Here we print the instance variables of two cat objects. Each instance of a class can have their own attributes.
<pre>
$ ./initialize.py 
Missy
Lucky
</pre>
The attributes can be assigned dynamically, not just during initialization. This shows the next example.
<pre>
#!/usr/bin/python

# dynamic.py

class Dynamic:
   pass

d = Dynamic()
d.name = "Dynamic"
print d.name
</pre>
We define and create an empty Dynamic class.
<pre>
d.name = "Dynamic"
</pre>
This line of code creates a new name attribute.
<pre>
$ ./dynamic.py 
Dynamic
</pre>

<p>So far, we have been talking about the instance attributes. In Python there are also so called <b>class object attributes</b>. Class object attributes are same for all instances of a class.</p>
<pre>
#!/usr/bin/python

# cat.py


class Cat:
   species = 'mammal'

   def __init__(self, name, age):
      self.name = name
      self.age = age


missy = Cat('Missy', 3)
lucky = Cat('Lucky', 5)

print missy.name, missy.age
print lucky.name, lucky.age

print Cat.species
print missy.__class__.species
print lucky.__class__.species
</pre>
In our example, we have two cats with specific name and age attributes. Both cats share some characteristics. Missy and Lucky are both mammals. This is reflected in a class level attribute species. The attribute is defined outside any method name in the body of a class.
<pre>
print Cat.species
print missy.__class__.species
</pre>
There are two ways, how we can access the class object attributes. Either via the name of the Cat class, or with the help of a special __class__ attribute.
<pre>
$ ./cat.py 
Missy 3
Lucky 5
mammal
mammal
mammal
</pre>

<p></p><h3>Methods</h3><br>Methods are functions defined inside the body of a class. They are used to perform operations with the attributes of our objects. Methods are essential in encapsulation concept of the OOP paradigm. For example, we might have a connect() method in our AccessDatabase class. We need not to be informed, how exactly the method connect connects to the database. We only know, that it is used to connect to a database. This is essential in dividing responsibilities in programming. Especially in large applications.<p></p>
<pre>
#!/usr/bin/python

# circle.py

class Circle:
   pi = 3.141592

   def __init__(self, radius=1):
      self.radius = radius 

   def area(self):
      return self.radius * self.radius * Circle.pi

   def setRadius(self, radius):
      self.radius = radius

   def getRadius(self):
      return self.radius

c = Circle()

c.setRadius(5)
print c.getRadius()
print c.area()
</pre>
In the code example, we have a Circle class. We define three new methods.
<pre>
def area(self):
    return self.radius * self.radius * Circle.pi
</pre>
The area() method returns the area of a circle.
<pre>
def setRadius(self, radius):
    self.radius = radius
</pre>
The setRadius() method sets a new value for a radius attribute.
<pre>
def getRadius(self):
    return self.radius
</pre>
The getRadius() method returns the current radius.
<pre>
c.setRadius(5)
</pre>
The method is called on an instance object. The c object is paired with the self parameter of the class definition. The number 5 is paired with the radius parameter.
<pre>
$ ./circle.py 
5
78.5398
</pre>
In Python, we can call methods in two ways. There are bounded and unbounded method calls.
<pre>
#!/usr/bin/python

# methods.py

class Methods:
   def __init__(self):
      self.name = 'Methods'

   def getName(self):
      return self.name


m = Methods()

print m.getName()
print Methods.getName(m)
</pre>
In this example, we demostrate both method calls.
<pre>
print m.getName()
</pre>
This is the <b>bounded</b> method call. The Python interpreter automatically pairs the m instance with the self parameter.
<pre>
print Methods.getName(m)
</pre>
And this is the <b>unbounded</b> method call. The instance object is explicitly given to the getName() method.
<pre>
$ ./methods.py 
Methods
Methods
</pre>

<p></p><h3>Inheritance</h3><br>The inheritance is a way to form new classes using classes that have already been defined. The newly formed classes are called <b>derived</b> classes, the classes that we derive from are called base classes. Important benefits of inheritance are code reuse and reduction of complexity of a program. The derived classes (descendants) override or extend the functionality of base classes (ancestors).<p></p>
<pre>
#!/usr/bin/python

# inherit.py


class Animal:
   def __init__(self):
      print "Animal created"

   def whoAmI(self):
      print "Animal"

   def eat(self):
      print "Eating"


class Dog(Animal):
   def __init__(self):
      Animal.__init__(self)
      print "Dog created"

   def whoAmI(self):
      print "Dog"

   def bark(self):
      print "Woof!"


d = Dog()
d.whoAmI()
d.eat()
d.bark()
</pre>
In this example, we have two classes. Animal and Dog. The animal is the base class, the Dog is the derived class. The derived class inherits the functionality of the base class. It is shown by the eat() method. The derived class modifies existing behaviour of the base class, shown by the whoAmI() method. Finally, the derived class extends the functionality of the base class, by defining a new bark() method.
<pre>
class Dog(Animal):
    def __init__(self):
       Animal.__init__(self)
       print "Dog created"
</pre>
We put the ancestor classes in round brackets after the name of the descendant class. If the derived class provides it's own <font color="blue">__init__()</font> method, it must explicitly call the base class <font color="blue">__init__()</font> method.
<pre>
$ ./inherit.py 
Animal created
Dog created
Dog
Eating
Woof!
</pre>

<p></p><h3>Polymorphism</h3><br>The polymorphism is the process of using an operator or function in different ways for different data input. In practical terms, polymorphism means that if class B inherits from class A, it doesn’t have to inherit everything about class A; it can do some of the things that class A does differently. (wikipedia)<p></p>
<pre>
#!/usr/bin/python

# basic.py


a = "alfa"
b = (1, 2, 3, 4)
c = ['o', 'm', 'e', 'g', 'a']

print a[2]
print b[1]
print c[3]
</pre>
Python programming language uses polymorphism extensively in built-in types. Here we use the same indexing operator for three different data types.
<pre>
$ ./basic.py 
f
2
g
</pre>
Polymorphism is most commonly used when dealing with inheritance.
<pre>
#!/usr/bin/python

# polymorphism.py


class Animal:
   def __init__(self, name=''):
      self.name = name

   def talk(self):
      pass


class Cat(Animal):
   def talk(self):
      print "Meow!"


class Dog(Animal):
   def talk(self):
      print "Woof!"


a = Animal()
a.talk()

c = Cat("Missy")
c.talk()

d = Dog("Rocky")
d.talk()
</pre>
Here we have two species. A dog and a cat. Both are animals. The Dog class and the Cat class inherit the Animal class. They have a talk() method, which gives different output for them.
<pre>
$ ./polymorphism.py 
Meow!
Woof!
</pre>

<p></p><h3>Special Methods</h3><br>Classes in Python programming language can implement certain operations with special method names. These methods are not called directly, but by a specific language syntax. This is similar to what is known as <b>operator overloading</b> in C++ or Ruby.<p></p>
<p><pre></pre></p>
<p>#!/usr/bin/python</p>
<h1 id="book-py"><a href="#book-py" class="headerlink" title="book.py"></a>book.py</h1><p>class Book:<br>   def <strong>init</strong>(self, title, author, pages):<br>      print “A book is created”<br>      self.title = title<br>      self.author = author<br>      self.pages = pages</p>
<p>   def <strong>str</strong>(self):<br>      return “Title:%s , author:%s, pages:%s “ % \<br>              (self.title, self.author, self.pages)</p>
<p>   def <strong>len</strong>(self):<br>      return self.pages</p>
<p>   def <strong>del</strong>(self):<br>      print “A book is destroyed”</p>
<p>book = Book(“Inside Steve’s Brain”, “Leander Kahney”, 304)</p>
<p>print book<br>print len(book)<br>del book<br><br>In our code example, we have a book class. Here we introduce four special methods. The <font color="blue"><strong>init</strong>()</font>, <font color="blue"><strong>str</strong>()</font>, <font color="blue"><strong>len</strong>()</font> and the <font color="blue"><strong>del</strong>()</font> methods.</p>
<p><pre><br>book = Book(“Inside Steve’s Brain”, “Leander Kahney”, 304)<br></pre><br>Here we call the <font color="blue"><strong>init</strong>()</font> method. The method creates a new instance of a Book class.</p>
<p><pre><br>print len(book)<br></pre><br>The <font color="blue">len()</font> function invokes the <font color="blue"><strong>len</strong>()</font> method. In our case, we print the number of pages of our book.</p>
<p><pre><br>del book<br></pre><br>The del keyword deletes an object. It calls the <font color="blue"><strong>del</strong>()</font> method.<br>In the next example we implement a vector class and demonstrate addition and substraction operations on it.</p>
<p><pre></pre></p>
<p>#!/usr/bin/python</p>
<h1 id="vector-py"><a href="#vector-py" class="headerlink" title="vector.py"></a>vector.py</h1><p>class Vector:</p>
<p>  def <strong>init</strong>(self, data):<br>    self.data = data</p>
<p>  def <strong>str</strong>(self):<br>    return repr(self.data)</p>
<p>  def <strong>add</strong>(self, other):<br>    data = []<br>    for j in range(len(self.data)):<br>      data.append(self.data[j] + other.data[j])<br>    return Vector(data)</p>
<p>  def <strong>sub</strong>(self, other):<br>    data = []<br>    for j in range(len(self.data)):<br>      data.append(self.data[j] - other.data[j])<br>    return Vector(data)</p>
<p>x = Vector([1, 2, 3])<br>y = Vector([3, 0, 2])<br>print x + y<br>print y - x<br></p>
<p><pre><br>def <strong>add</strong>(self, other):<br>    data = []<br>    for j in range(len(self.data)):<br>      data.append(self.data[j] + other.data[j])<br>    return Vector(data)<br></pre><br>Here we implement the addition operation of vectors. The <font color="blue"><strong>add</strong>()</font> method is called, when we add two Vector objects with the + operator. Here we add each member of the respective vectors.</p>
<p><pre><br>$ ./vector.py<br>[4, 2, 5]<br>[2, -2, -1]<br></pre><br>In this part of the Python tutorial, we have covered object-oriented programming in Python.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://tonytan748.github.io/2014/06/30/object-oriented-programming-in-python/" data-id="cm50h3r6s000qyfhtcnmmvpij" class="article-share-link">Share</a>
      
        <a href="https://tonytan748.github.io/2014/06/30/object-oriented-programming-in-python/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-jekyll-quick-start" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/29/jekyll-quick-start/" class="article-date">
  <time datetime="2014-06-28T16:00:00.000Z" itemprop="datePublished">2014-06-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/jekyll/">jekyll</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/29/jekyll-quick-start/">Jekyll Quick Start</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><em>How to create github blog, how to install jekyll-bootstrap,run jekyll locally, create a post,create a page,publish,customize</em></p>
<h1 id="Host-on-GitHub-in-3-minutes"><a href="#Host-on-GitHub-in-3-minutes" class="headerlink" title="Host on GitHub in 3 minutes"></a>Host on GitHub in 3 minutes</h1><p>Make sure to input your GitHub username so the instructions reflect the exact code you need to run to host your blog.</p>
<h2 id="1-Create-a-New-Repository"><a href="#1-Create-a-New-Repository" class="headerlink" title="1. Create a New Repository"></a>1. Create a New Repository</h2><p>Go to your <a href="https://github.com" target="_blank" rel="noopener">https://github.com</a> and create a new repository named<br><br><strong>USERNAME.github.com</strong></p>
<h2 id="2-Install-Jekyll-Bootstrap"><a href="#2-Install-Jekyll-Bootstrap" class="headerlink" title="2. Install Jekyll-Bootstrap"></a>2. Install Jekyll-Bootstrap</h2><p>Enter these commands into your terminal in a directory you want your blog to be:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/plusjade/jekyll-bootstrap.git USERNAME.github.com </span><br><span class="line">cd USERNAME.github.com </span><br><span class="line">git remote set-url origin git@github.com:USERNAME/USERNAME.github.com.git </span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure>
<h2 id="3-Profit"><a href="#3-Profit" class="headerlink" title="3. Profit"></a>3. Profit</h2><p>After GitHub has a couple minutes to do its magic your blog will be publicly available at <a href="http://USERNAME.github.com" target="_blank" rel="noopener">http://USERNAME.github.com</a></p>
<h1 id="Already-have-your-blog-on-GitHub"><a href="#Already-have-your-blog-on-GitHub" class="headerlink" title="Already have your blog on GitHub?"></a>Already have your blog on GitHub?</h1><p>I’ll assume you have the Jekyll gem installed on your local machine. Run Jekyll-Bootstrap locally to see what all the fuss is about:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git clone https://github.com/plusjade/jekyll-bootstrap.git </span><br><span class="line">$ cd jekyll-bootstrap </span><br><span class="line">$ jekyll serve</span><br></pre></td></tr></table></figure>
<p>See it in action at <a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a>.</p>
<h2 id="2-Run-Jekyll-Locally"><a href="#2-Run-Jekyll-Locally" class="headerlink" title="2. Run Jekyll Locally"></a>2. Run Jekyll Locally</h2><p>In order to preview your blog locally you’ll need to install the Jekyll ruby gem. Note gem dependencies will also be installed. You don’t have to run a local version but it helps if you want to preview your content before publishing.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gem install jekyll</span><br></pre></td></tr></table></figure>
<p>If you run into a problem please consult the original Jekyll installation documentation. You can also create a support issue using GitHub Issues.</p>
<p>Once the gem is installed you can navigate to your Jekyll-Bootstrap directory. If you’ve followed the homepage instructions this will be: USERNAME.github.com. Once in the directory you’ll run jekyll with server support:</p>
<p><strong>remember to change USERNAME to your GitHub username.</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd USERNAME.github.com  </span><br><span class="line">$ jekyll serve</span><br></pre></td></tr></table></figure>
<p>Your blog is now available at: <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a>.</p>
<h2 id="3-Create-a-Post"><a href="#3-Create-a-Post" class="headerlink" title="3. Create a Post"></a>3. Create a Post</h2><p>Create posts easily via rake task:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rake post title=&quot;Hello World&quot;</span><br></pre></td></tr></table></figure>
<p>The rake task automatically creates a file with properly formatted filename and YAML Front Matter. Make sure to specify your own title. By default, the date is the current date.</p>
<p>The rake task will never overwrite existing posts unless you tell it to.</p>
<h2 id="4-Create-a-Page"><a href="#4-Create-a-Page" class="headerlink" title="4. Create a Page"></a>4. Create a Page</h2><p>Create pages easily via rake task:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rake page name=&quot;about.md&quot;</span><br></pre></td></tr></table></figure>
<p>Create a nested page:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rake page name=&quot;pages/about.md&quot;</span><br></pre></td></tr></table></figure>
<p>Create a page with a “pretty” path:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ rake page name=&quot;pages/about&quot; </span><br><span class="line"># this will create the file: ./pages/about/index.html</span><br></pre></td></tr></table></figure>
<p>The rake task automatically creates a page file with properly formatted filename and YAML Front Matter as well as includes the Jekyll Bootstrap “setup” file.</p>
<h2 id="5-Publish"><a href="#5-Publish" class="headerlink" title="5. Publish"></a>5. Publish</h2><p>After you’ve added posts or made changes to your theme or other files, simply commit them to your git repo and push the commits up to GitHub.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git add . </span><br><span class="line">$ git commit -m &quot;Add new content&quot; </span><br><span class="line">$ git push origin master</span><br></pre></td></tr></table></figure>
<p>A GitHub post-commit hook will automatically deploy your changes to your hosted blog. You will receive a success or failure notice for every commit you make to your blog.</p>
<h2 id="6-Customize"><a href="#6-Customize" class="headerlink" title="6. Customize"></a>6. Customize</h2><p>Jekyll-Bootstrap can be used as-is as a basic blogging platform. However there are plenty of ways to dig into deeper customization. The following outlines deeper Jekyll-Bootstrap customization techniques:</p>
<h1 id="Themes"><a href="#Themes" class="headerlink" title="Themes"></a>Themes</h1><p>Jekyll-Bootstrap supports modular theming. Themes can co-exist and be enabled/disabled on demand. Editing, configuring, and creating themes is docummented in the Theming section.</p>
<h2 id="Blog-Configuration"><a href="#Blog-Configuration" class="headerlink" title="Blog Configuration"></a>Blog Configuration</h2><p>Jekyll and Jekyll-Bootstrap has a simple but powerful Jekyll Configuration System. You can:</p>
<ul>
<li>Specify a custom permalink format for blog posts.</li>
<li>Specify a commenting engine like disqus, intensedebate, livefyre, or custom.</li>
<li>Specify an analytics engine like google, getclicky, or custom.</li>
</ul>
<h2 id="Programming-Interface"><a href="#Programming-Interface" class="headerlink" title="Programming Interface"></a>Programming Interface</h2><p>The API pages document main data-structures and code available for use in Jekyll and Jekyll-Bootstrap. Consult these pages for how and where to use the data and code provided.</p>
<h2 id="Jekyll-Introduction"><a href="#Jekyll-Introduction" class="headerlink" title="Jekyll Introduction"></a>Jekyll Introduction</h2><p>I highly recommend reading the Jekyll Introduction if you plan to customize your blog. The introduction is meant for core understanding of how and why Jekyll works the way it does. This will provide you with the proper context, knowledge-base, and fundamentals necessary to understand and be efficient in working with Jekyll and Jekyll-Bootstrap.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://tonytan748.github.io/2014/06/29/jekyll-quick-start/" data-id="cm50h3r6g000eyfht7mrpt6ca" class="article-share-link">Share</a>
      
        <a href="https://tonytan748.github.io/2014/06/29/jekyll-quick-start/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-search-google-with-python-tutorial" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/29/search-google-with-python-tutorial/" class="article-date">
  <time datetime="2014-06-28T16:00:00.000Z" itemprop="datePublished">2014-06-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/29/search-google-with-python-tutorial/">Search Google with Python Tutorial</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><em>How to get the web address in google use Python</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">import urllib </span><br><span class="line">import mechanize  </span><br><span class="line">from bs4 import BeautifulSoup </span><br><span class="line">import re  </span><br><span class="line">def getGoogleLinks(link,depth):  </span><br><span class="line">	br=mechanize.Browser()</span><br><span class="line">	br.set_handler_robots(False)</span><br><span class="line"> 	br.addheaders=[(&apos;User-agent&apos;:&apos;chrome&apos;)]</span><br><span class="line">  	term=link.replace(&quot; &quot;,&quot;+&quot;)</span><br><span class="line"> 	query=&quot;http://www.google.com.sg/search?num=100&amp;q=&quot; + term + &quot;&amp;start=&quot; + depth</span><br><span class="line">  	htmltext=br.open(query).read()</span><br><span class="line"> 	print htmltext</span><br><span class="line">  	soup=BeautifulSoup(htmltext)</span><br><span class="line">  	search=soup.findAll(&apos;div&apos;,attrs=&#123;&apos;id&apos;:&apos;search&apos;&#125;)</span><br><span class="line">  	searchtext=str(search[0])</span><br><span class="line"> 	soup1=BeautifulSoup(searchtext)</span><br><span class="line"> 	list_items=soup1.findAll(&apos;li&apos;)</span><br><span class="line">  	print list_items[0]</span><br><span class="line"> 	regex=&quot;q(?!.*q).*?&amp;amp&quot;</span><br><span class="line"> 	pattern=re.compile(regex)</span><br><span class="line">  	results_array=[]</span><br><span class="line">  	for li in list_items:</span><br><span class="line"> 		soup2=BeautifulSoup(str(li))</span><br><span class="line"> 		links=soup2.findAll(&apos;a&apos;)</span><br><span class="line"> 		prink links</span><br><span class="line"> 		source_link= links[0]</span><br><span class="line"> 		print source_link</span><br><span class="line"> 		source_url=re.findall(pattern,str(source_link))</span><br><span class="line"> 		if source_url and source_url[0].startswith==&quot;http&quot;:</span><br><span class="line"> 			results_array.append(source_url[0].replace(&quot;q=&quot;,&quot;&quot;).replace(&quot;&amp;amp&quot;,&quot;&quot;)) </span><br><span class="line">		return results_array</span><br><span class="line">  </span><br><span class="line">print getGoogleLinks(&apos;cars&apos;,&apos;100&apos;)</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://tonytan748.github.io/2014/06/29/search-google-with-python-tutorial/" data-id="cm50h3r6j000hyfhtyy20cj4c" class="article-share-link">Share</a>
      
        <a href="https://tonytan748.github.io/2014/06/29/search-google-with-python-tutorial/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-karrigell-tutorial" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/06/29/karrigell-tutorial/" class="article-date">
  <time datetime="2014-06-28T16:00:00.000Z" itemprop="datePublished">2014-06-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Karrigell/">Karrigell</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/29/karrigell-tutorial/">Karrigell Tutorial</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><em>This tutorial will explain step by step how to get started with Karrigell, a simple yet full-featured, 100% Python web framework</em></p>
<p><a name="intro">This tutorial will explain step by step how to get started with <a href="http://karrigell.sourceforge.net" target="_blank" rel="noopener">Karrigell</a>, a simple yet full-featured, 100% Python web framework </a></p>
<p>The key word for the development of Karrigell is simplicity : </p><br><p><br><ul><br> <li>the package comes with “batteries included” : a web server and a database engine, in less than 1 MB of code<br> </li><li>no configuration : just unzip the package, start the server and go !<br> </li><li>programs are either pure Python, or a mix of Python and HTML <i>a la</i> PHP ; there is no templating syntax, requiring to learn custom tags<br></li></ul><br></p>

<p>People who discover Karrigell are often surprised by this simplicity, and might think of it as a toy, only suited for an introduction and perhaps education on dynamic web servers. In fact, it lets you do the simple things in a simple way : if you want to write the proverbial “Hello, world !” program, all you have to type is </p><br><p><blockquote><code>print “Hello, world !”</code></blockquote></p><br><p>But if you take a look at the documentation you might be surprised to see what the “toy” can do : </p><br><p><br><ul><br>  <li>easy access to HTML forms (that is, with minimum typing)<br> </li><li>inclusion of scripts inside other scripts<br> </li><li>very simple in-memory session management<br> </li><li>basic HTTP authentication<br> </li><li>HTTP redirection<br> </li><li>protection of directories (only accessible to authenticated users)<br> </li><li>a web interface to enter the translation of dynamic pages<br> </li><li>a variety of programming styles, from pure Python with a whole site in one script to PHP-like, one-script-for-each-page style<br> </li><li>inclusion of the Cheetah templating system<br> </li><li>a very fast asynchronous built-in web server<br> </li><li>virtual hosts support<br> </li><li>gzip support<br> </li><li>the ability to run behind Apache or Xitami<br> </li><li>a very clear and complete debugger<br> </li><li>a database management system (a web interface lets you generate the database and its CRUD script)<br></li></ul><br></p><br> and much more…<br><p>For a more complete information, see the <a href="http://karrigell.sourceforge.net/en/front.htm" target="_blank" rel="noopener">documentation</a><br><br><br></p><h2> 1. Getting started</h2><br><p>First, <a href="http://sourceforge.net/project/showfiles.php?group_id=67940" target="_blank" rel="noopener">download</a> the latest version of Karrigell and unzip it. Open a console window and start the built-in server by :</p><br><p> <pre class=" console">&gt;python Karrigell.py </pre> </p><br><p>Use a text editor to save this line of Python code in a file called hello.py, in the directory webapps : </p><br><pre class=" python">print “hello world !” </pre><br><p>Then type <a href="http://localhost/hello.py" target="_blank" rel="noopener">http://localhost/hello.py</a> in your web browser to see the result </p><br><p>By default, Python scripts are rendered as HTML code. If you want to use a plain text format you can set the Content-Type header in your code, like this : </p><br><pre class=" python">RESPONSE[‘Content-Type’] = ‘text/plain’ print “hello world !” </pre><br><p>This example shows how Karrigell works : the scripts are executed in a namespace where the programmer finds all he needs. RESPONSE is one of the names available in this namespace : it is a dictionary holding the HTTP response headers </p>


<p></p><h2> 2. HTML forms</h2><p></p>
<p>Let’s see how you can retrieve the information submitted by an HTML form. Create this HTML piece of code and save it in hello.htm </p>

<pre class=" html">&lt;form action="hello.py"&gt; Say hello to &lt;input name="user"&gt; &lt;input type="submit" value="Ok"&gt; &lt;/form&gt; </pre> 

<p>This page will prompt the user to enter a name, and will submit it to the script hello.py </p><br><p>Here is how you can ask hello.py to print it : </p>

<pre class=" python">print "Hello, " + _user  </pre> 

<p>The namespace built by Karrigell when it receives the data sent by the browser has a variable called _user, a string with the value entered in the field user (note the leading underscore : this is necessary to avoid conflicts with Python keywords or built-in names) </p><p><br></p><p>Alternatively, you could use this syntax : </p>

<pre class=" python">print "Hello, " + QUERY['user'] </pre> 

<p>QUERY is a dictionary with names matching the fields in the submitted form </p>


<p></p><h2> 3. Logging and session management</h2> <p></p>
<p>If you want to identify the user throughout his navigation in the site, for instance to print his name when needed, the easiest technique is session management. Karrigell manages it with another built-in name, a function called Session(), which returns a Python object to which you can set any attribute </p><br><p>Edit your script hello.py : </p><br><pre class=" python"><br>print “Hello, “ + _user Session().user = _user print “””What would you like to order :<br>     &lt;form action=”order.py”&gt;<br>     CD &lt;input type=”radio” name=”type” value=”CD”&gt;<br>     book &lt;input type=”radio” name=”type” value=”book”&gt;<br>     &lt;input type=”submit” value=”Ok”&gt;<br>     &lt;/form&gt;”””<br></pre><br><p>On the second line you have set the attribute user of the session object to the value _user. The session object is specific to a web browser, so that it is guaranteed to remain specific to one user and can be used by the other scripts to identify him </p><br><p>For instance you can use it in order.py : </p><br><pre class=" python">print “Hello %s” %Session().user print “So you want to order a %s” %_type </pre><br><br><br><br><h2> 4. Authentication</h2><br><p>It is a very common task to check that a user is allowed to perform a certain task. For this, the user is asked to enter a login and a password, and the program looks in a database to see if this login/password is valid  </p><br><p>Change the html page to ask for a login and a password instead of the user name : </p><br><pre class=" html"><br>&lt;form action=”check.py”&gt; Login &lt;input name=”login”&gt; &lt;br&gt;Password &lt;input type=”password” name=”password”&gt; &lt;input type=”submit” value=”Ok”&gt; &lt;/form&gt;<br></pre><br><p>Then in the script check.py you would have : </p><br><pre class=" python"><br>def is_valid(login,password):<br>     # replace this with a check in the users database<br>     return login == ‘login’ and password == ‘password’<br>  if is_valid(_login,_password):<br>     Session().login = _login<br>     print “Hello %s &lt;br&gt;” %_login<br>     print “””What would you like to order :<br>         &lt;form action=”order.py”&gt;<br>         CD &lt;input type=”radio” name=”type” value=”CD”&gt;<br>         book &lt;input type=”radio” name=”type” value=”book”&gt;<br>         &lt;input type=”submit” value=”Ok”&gt;<br>         &lt;/form&gt;”””<br>  else:<br>     print “Sorry, you are not allowed to access this page”<br></pre><br><br><p>Since the session object has an attribute called login, in other scripts you can test if the user is valid by testing the existence of this attribute : </p><br><pre class=" python">if hasattr(Session(),’login’):     (show information for authorized users) else:     (show information for unlogged visitors) </pre> <p></p><br><p>Alternatively, you could use the basic HTTP authentication : a popup window prompting for login and password. To </p><br><p>achieve this you have to call another function in the namespace, called Authentication(), like this: </p><br><pre class=" python"><br>def authTest():<br>     (check if AUTH_USER and AUTH_PASSWORD are in the database)<br>  Authentication(authTest,”Authentication test”,\<br>     “Sorry, you are not allowed to access this page”)<br>  print “””What would you like to order :<br>     &lt;form action=”order.py”&gt;<br>     CD &lt;input type=”radio” name=”type” value=”CD”&gt;<br>     book &lt;input type=”radio” name=”type” value=”book”&gt;<br>     &lt;input type=”submit” value=”Ok”&gt;<br>     &lt;/form&gt;”””<br></pre><br><p>Authentication() takes 3 arguments : </p><br><p><br><ul><br> <li> the function to call : this function has no argument, but uses the names AUTH_USER and AUTH_PASSWORD that were entered by the user in the popup window </li><li> the “realm” : a string shown on top of the popup window<br>  </li><li> the message to return if the authentication failed, that is, if the function did not return True<br></li></ul><br></p><br><p>If the authentication succeeds, execution of the script can continue </p>



<p></p><h2> 5. Karrigell services</h2> <p></p>
<p>For the moment we have put each script in a different file. For short scripts this can become tedious and difficult to maintain </p><br><p>You can use Karrigell services : Python scripts where each function matches a URL. They must have the extension “ks” </p><br><p>Change the initial HTML page to : </p><br><pre class=" html"> &lt;form action=”home.ks/check”&gt; Login &lt;input name=”login”&gt; &lt;br&gt;Password &lt;input type=”password” name=”password”&gt; &lt;input type=”submit” value=”Ok”&gt; &lt;/form&gt;  </pre><br><p>Then save this in a file called home.ks : </p><br><pre class=" python"><br>def check(login,password):<br>     if _is_valid(login,password):<br>         Session().login = login<br>         print “Hello”,login,”&lt;br&gt;”<br>         print “””What would you like to order :<br>         &lt;form action=”order”&gt;<br>         CD &lt;input type=”radio” name=”Type” value=”CD”&gt;<br>         book &lt;input type=”radio” name=”Type” value=”book”&gt;<br>         &lt;input type=”submit” value=”Ok”&gt;<br>         &lt;/form&gt;”””<br>     else:<br>         print “Sorry, you are not allowed to access this page”<br>def order(Type):<br>     if not hasattr(Session(),”login”):<br>         print “Sorry, you are not allowed to access this page”<br>     else:<br>         print “Ok %s, you want to order a %s” %(Session().login,Type)<br>def _is_valid(login,password):<br>     # replace this with a check in the users database<br>     return login == ‘login’ and password == ‘password’<br></pre><br><p>The “action” in the HTML form is “home.ks/check”. This means that Karrigell will search the function <i>check()</i> in the script home.ks. Since the form has the fields “login” and “password”, the function <b>must</b> also have these names as arguments </p><br><p>In this function, we first test if the login and password are valid. This is done in a “private” function <i>_is_valid()</i> : “private” means that this function can’t be called by a URL (here home.ks/_is_valid). Private functions begin with an underscore  </p><br><p>If the test succeeds, the function writes another form with action = “order”, matching the function <i>order()</i> in the same script. Since the form has a radiobutton field called “Type”, the function <i>order()</i> also has an argument called Type (notice that Type begins with an uppercase letter, to avoid confusion with the Python built-in <i>type</i>) </p>



<p></p><h2>6. HTMLTags (generate HTML with Python code)</h2> <p></p>
<p>In the scripts we have written so far, the HTML code is produced by printing strings with the HTML tags inside </p><br><p>If you don’t like this, you can use a module called HTMLTags, which works like this :  </p><br><pre class=" python">from HTMLTags import <em> print HTML(HEAD(TITLE(‘test’))+BODY(‘hello world’)) </em></pre><br><p>This will produce the following HTML code : </p><br><pre class=" html">&lt;HTML&gt; &lt;HEAD&gt; &lt;TITLE&gt;test&lt;/TITLE&gt; &lt;/HEAD&gt; &lt;BODY&gt;hello world&lt;/BODY&gt;  &lt;/HTML&gt; </pre><br><p>You can rewrite the script home.ks like this : </p><br><pre class=" python"><br>from HTMLTags import <br>def check(login,password):<br>     if _is_valid(login,password):<br>         Session().login = login<br>         print “Hello”,login,”&lt;br&gt;”<br>         print “””What would you like to order :”””<br>         print FORM(TEXT(‘CD’)+INPUT(Type=”radio”,name=”Type”,value=”CD”) + TEXT(‘book’)+INPUT(Type=”radio”,name=”Type”,value=”book”) + INPUT(Type=”submit”,value=”ok”), action=”order”)<br>     else:<br>         print “Sorry, you are not allowed to access this page”<br>def order(Type):<br>     if not hasattr(Session(),”login”):<br>         print “Sorry, you are not allowed to access this page”<br>     else:<br>         print “Ok %s, you want to order a %s” %(Session().login,Type)<br>def _is_valid(login,password):<br>     # replace this with a check in the users database<br>     return login == ‘login’ and password == ‘password’<br></pre><br><br><br><br><h2>7. Python Inside HTML (PHP-like style)</h2><br><p>For those who prefer the PHP-like style of code inside special tags, Karrigell provides “Python Inside HTML”. The scripts, with the extension pih, are made of HTML code, and of Python code inside the tags &lt;% and %&gt; </p><br><p>Going back to our first example of a script which receives the user name, we could have written this in a script order.pih :  </p><br><pre class=" html">Hello, &lt;% print _user Session().user = _user %&gt; What would you like to order : &lt;form action=”order.py”&gt; CD &lt;input type=”radio” name=”type” value=”CD”&gt; book &lt;input type=”radio” name=”type” value=”book”&gt; &lt;input type=”submit” value=”Ok”&gt; &lt;/form&gt;  </pre><br><p>There are no strict rules for choosing between Python scripts, Karrigell services and Python Inside HTML. I tend to use </p><br><p><br><ul><br> <li> Python Inside HTML for the pages that are mainly static HTML, with only a few places with dynamic content<br> </li><li> Karrigell services for small applications, where creating a file per page would result in too many 10- or 20-line scripts<br> </li><li> Python scripts for the scripts that do more processing of data than sending outpout to the user (typically, the insertion of a new record in a database)<br></li></ul><br></p>

<p></p><h2>8. Redirection</h2><p></p>
<p>To perform an HTTP redirection from inside a script, you raise an exception available in the namespace, HTTP_REDIRECTION, with the url as argument : </p><br><p><pre class=" python">raise HTTP_REDIRECTION,”index.html” </pre> </p><br><p>For instance, if you want to enter a new record in a database, here is a simple ks script : </p><br><p><br>    <pre class=" python"><br>    from HTMLTags import *<br>    def index():<br>        print FORM(TEXT(‘login’)+INPUT(name=”login”)+BR()+TEXT(‘password’)+INPUT(name=”password”)+BR()+INPUT(Type=”submit”),action = “insert”)<br>    def insert(login,password):<br>         (… perform insertion in the database here …)<br>         raise HTTP_REDIRECTION,”index”<br>    </pre><br></p><br><p>After the insertion has been performed, the program will ask another entry </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://tonytan748.github.io/2014/06/29/karrigell-tutorial/" data-id="cm50h3r6m000jyfhtrsryxa89" class="article-share-link">Share</a>
      
        <a href="https://tonytan748.github.io/2014/06/29/karrigell-tutorial/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/13/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="page-number" href="/page/13/">13</a><span class="page-number current">14</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/15/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Github/">Github</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Karrigell/">Karrigell</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/VIM/">VIM</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/conda/">conda</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/django/">django</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ffmpeg/">ffmpeg</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/freeswitch/">freeswitch</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/go/">go</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jekyll/">jekyll</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/kivy/">kivy</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/linux/mac/">mac</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/nginx/">nginx</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/normal/">normal</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/sqlalchemy/">sqlalchemy</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system/">system</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/tornado/">tornado</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ubuntu/">ubuntu</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/conda/">conda</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/django/">django</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/django-celery/">django-celery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ffmpeg/">ffmpeg</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flask/">flask</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/freeswitch/">freeswitch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go/">go</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mac/">mac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/other/">other</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlalchemy/">sqlalchemy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/system/">system</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tornado/">tornado</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/">ubuntu</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/conda/" style="font-size: 10px;">conda</a> <a href="/tags/django/" style="font-size: 18px;">django</a> <a href="/tags/django-celery/" style="font-size: 10px;">django-celery</a> <a href="/tags/ffmpeg/" style="font-size: 10px;">ffmpeg</a> <a href="/tags/flask/" style="font-size: 10px;">flask</a> <a href="/tags/freeswitch/" style="font-size: 10px;">freeswitch</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/go/" style="font-size: 14px;">go</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/linux/" style="font-size: 16px;">linux</a> <a href="/tags/mac/" style="font-size: 10px;">mac</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/other/" style="font-size: 12px;">other</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/sqlalchemy/" style="font-size: 10px;">sqlalchemy</a> <a href="/tags/system/" style="font-size: 12px;">system</a> <a href="/tags/tornado/" style="font-size: 10px;">tornado</a> <a href="/tags/ubuntu/" style="font-size: 10px;">ubuntu</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">December 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">August 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">July 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">June 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">May 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">April 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">March 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">February 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">January 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">December 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">November 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">October 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">September 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">August 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">June 2014</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/12/23/Python-Typing类型提示/">Python Typing类型提示</a>
          </li>
        
          <li>
            <a href="/2024/12/23/Python-Tempfile临时文件系统对象/">Python Tempfile临时文件系统对象</a>
          </li>
        
          <li>
            <a href="/2024/12/23/Python-Pathlib处理文件路径库的使用/">Python Pathlib处理文件路径库的使用</a>
          </li>
        
          <li>
            <a href="/2024/08/31/在ubuntu上的18个非常实用的命令行工具软件/">在ubuntu上的18个非常实用的命令行工具软件</a>
          </li>
        
          <li>
            <a href="/2024/08/20/什么是动态规划？在Python中如何利用动态规划解决实际问题？/">什么是动态规划？在Python中如何利用动态规划解决实际问题？</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2024 Tony Tan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'TonyTan';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>