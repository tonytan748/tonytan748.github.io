<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>Mocks and monkeypatching in python | Tony Tan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Translate from krzysztofzuraw First of all, what I want to accomplish here is to give you basic examples of how to mock data using two tools: mock and pytest monkeypatch. Why bother mocking?Some of th">
<meta name="keywords" content="python">
<meta property="og:type" content="article">
<meta property="og:title" content="Mocks and monkeypatching in python">
<meta property="og:url" content="https://tonytan748.github.io/2017/09/09/Mocks-and-monkeypatching-in-python/index.html">
<meta property="og:site_name" content="Tony Tan">
<meta property="og:description" content="Translate from krzysztofzuraw First of all, what I want to accomplish here is to give you basic examples of how to mock data using two tools: mock and pytest monkeypatch. Why bother mocking?Some of th">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-11-06T17:25:36.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Mocks and monkeypatching in python">
<meta name="twitter:description" content="Translate from krzysztofzuraw First of all, what I want to accomplish here is to give you basic examples of how to mock data using two tools: mock and pytest monkeypatch. Why bother mocking?Some of th">
  
    <link rel="alternate" href="/atom.xml" title="Tony Tan" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Tony Tan</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">a python progrmmer</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://tonytan748.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Mocks-and-monkeypatching-in-python" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/09/Mocks-and-monkeypatching-in-python/" class="article-date">
  <time datetime="2017-09-09T14:14:16.000Z" itemprop="datePublished">2017-09-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Mocks and monkeypatching in python
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Translate from <a href="https://krzysztofzuraw.com/blog/2016/mocks-monkeypatching-in-python.html" target="_blank" rel="noopener">krzysztofzuraw</a></p>
<p>First of all, what I want to accomplish here is to give you basic examples of how to mock data using two tools: mock and pytest monkeypatch.</p>
<h1 id="Why-bother-mocking"><a href="#Why-bother-mocking" class="headerlink" title="Why bother mocking?"></a>Why bother mocking?</h1><p>Some of the parts of our application may have dependencies for other libraries or objects. To isolate behaviour of our parts we need to substitue external dependencies. Here comes the mocking. We mock external API to have certain behaviours such as proper return values that we previously defined.</p>
<h1 id="Mocking-function"><a href="#Mocking-function" class="headerlink" title="Mocking function"></a>Mocking function</h1><p>Let’s say we have module called <strong>function.py</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def square(value):</span><br><span class="line">    return value ** 2</span><br><span class="line"></span><br><span class="line">def cube(value):</span><br><span class="line">    return value ** 3</span><br><span class="line"></span><br><span class="line">def main(value):</span><br><span class="line">    return square(value) + cube(value)</span><br></pre></td></tr></table></figure>
<p>Then let’s look how these functions are mocked using <strong>mock</strong> library:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">1  try:</span><br><span class="line">2      import mock</span><br><span class="line">3  except ImportError:</span><br><span class="line">4      from unittest import mock</span><br><span class="line">5 </span><br><span class="line">6  import unittest</span><br><span class="line">7 </span><br><span class="line">8  from function import square, main</span><br><span class="line">9 </span><br><span class="line">10</span><br><span class="line">11 class TestNotMockedFunction(unittest.TestCase):</span><br><span class="line">12     @mock.patch(&apos;__main__.square&apos;, return_value=1)</span><br><span class="line">13     def test_function(self, mocked_square):</span><br><span class="line">14         # because you need to patch in exact place where function that has to be mocked is called</span><br><span class="line">15         self.assertEquals(square(5), 1)</span><br><span class="line">16        </span><br><span class="line">17     @mock.patch(&apos;function.square&apos;)</span><br><span class="line">18     @mock.patch(&apos;function.cube&apos;)</span><br><span class="line">19     def test_main_function(self, mocked_square, mocked_cube):</span><br><span class="line">20         # underling function are mocks so calling main(5) will return mock</span><br><span class="line">21         mocked_square.return_value = 1</span><br><span class="line">22         mocked_cube.return_value = 0</span><br><span class="line">23         self.assertEquals(main(5), 1)</span><br><span class="line">24         mocked_square.assert_called_once_with(5)</span><br><span class="line">25         mocked_cube.assert_called_once_with(5)</span><br><span class="line">26</span><br><span class="line">27 if __name__ == &apos;__main__&apos;:</span><br><span class="line">28     unittest.main()</span><br></pre></td></tr></table></figure>
<p>What is happening here? Lines 1-4 are for making this code compatible between python 2 and 3. In python 3 mock is part of standard library whereas in python 2 you need to install by <strong>pip install mock</strong>.</p>
<p>In line 13 I patched the <code>square</code> function. But you have to remember to patch it in the same place you use it. For instance, I’m calling <code>square(5)</code> in test itself so I need to patch it in <code>__main__</code>. This is the case if I’m running this by <code>python tests/test_function.py</code>. If I’m using pytest for that I need to patch it like <code>test_function.square</code>.</p>
<p>In lines 17-18, I patch <code>square</code> and <code>cube</code> functions in their module because they are used in <code>main</code> function. The last two asserts come from mock library and are for making sure that mock was called with proper values.</p>
<p>The same can be accomplished using <code>mokeypatching</code> for py.test:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">from function import square, main</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def test_function(monkeypatch):</span><br><span class="line">    monkeypatch.setattr(&quot;test_function_pytest.square&quot;, lambda x: 1)</span><br><span class="line">    assert square(5) == 1</span><br><span class="line"></span><br><span class="line">def test_main_function(monkeypatch):</span><br><span class="line">    monkeypatch.setattr(&apos;function.square&apos;, lambda x: 1)</span><br><span class="line">    monkeypatch.setattr(&apos;function.cube&apos;, lambda x: 0)</span><br><span class="line">    assert main(5) == 1</span><br></pre></td></tr></table></figure>
<p>As you can see I’m using <code>monkeypatch.setattr</code> for setting up return value for given functions. I’m still need to monkeypatch it in proper place: <code>test_function_pytest</code> and <code>function</code>.</p>
<h1 id="Mocking-classes"><a href="#Mocking-classes" class="headerlink" title="Mocking classes"></a>Mocking classes</h1><p>I have module called <code>square</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import math</span><br><span class="line"></span><br><span class="line">class Square(object):</span><br><span class="line">    def __init__(radius):</span><br><span class="line">         self.radius = radius</span><br><span class="line"></span><br><span class="line">    def calculate_area(self):</span><br><span class="line">         return math.sqrt(self.radius) * math.pi</span><br></pre></td></tr></table></figure>
<p>And mocks using standard lib:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">1  try:</span><br><span class="line">2      import mock</span><br><span class="line">3  except ImportError:</span><br><span class="line">4      from unittest import mock</span><br><span class="line">5 </span><br><span class="line">6  import unittest</span><br><span class="line">7  </span><br><span class="line">8  from square import Square</span><br><span class="line">9  </span><br><span class="line">10  </span><br><span class="line">11 class TestClass(unittest.TestCase):</span><br><span class="line">12 </span><br><span class="line">13     @mock.patch(&apos;__main__.Square&apos;) # depends in witch from is run</span><br><span class="line">14     def test_mocking_instance(self, mocked_instance):</span><br><span class="line">15         mocked_instance = mocked_instance.return_value</span><br><span class="line">16         mocked_instance.calculate_area.return_value = 1</span><br><span class="line">17         sq = Square(100)</span><br><span class="line">18         self.assertEquals(sq.calculate_area(), 1)</span><br><span class="line">19 </span><br><span class="line">20 </span><br><span class="line">21     def test_mocking_classes(self):</span><br><span class="line">22         sq = Square</span><br><span class="line">23         sq.calculate_area = mock.MagicMock(return_value=1)</span><br><span class="line">24         self.assertEquals(sq.calculate_area(), 1)</span><br><span class="line">25 </span><br><span class="line">26     @mock.patch.object(Square, &apos;calculate_area&apos;)</span><br><span class="line">27     def test_mocking_class_methods(self, mocked_method):</span><br><span class="line">28         mocked_method.return_value = 20</span><br><span class="line">29         self.assertEquals(Square.calculate_area(), 20)</span><br><span class="line">30 </span><br><span class="line">31 if __name__ == &apos;__main__&apos;:</span><br><span class="line">32     unittest.main()</span><br></pre></td></tr></table></figure>
<p>At line 13 I patch class <code>Square</code> (again be aware if you run this test using pytest or standard way). Lines 15 and 16 presents mocking instance; at first <code>mocked_instance</code> is mock object which by default returns another mock and to these <code>mock.calculate_area</code> I add <code>return_value</code> 1. In line 23 I’m using <code>MagicMock</code> which is normal mock class except it also retrieves magic methods from given object. Lastly I use <code>patch.object</code> to mock method in <code>Square</code> class.</p>
<p>The same using pytest:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">try:</span><br><span class="line">    from mock import MagicMock</span><br><span class="line">except ImportError:</span><br><span class="line">   from unittest.mock import MagicMock</span><br><span class="line"></span><br><span class="line">from square import Square</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def test_mocking_class_methods(monkeypatch):</span><br><span class="line">    monkeypatch.setattr(&apos;test_class_pytest.Square.calculate_area&apos;, lambda: 1)</span><br><span class="line">    assert Square.calculate_area() ==  1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def test_mocking_classes(monkeypatch):</span><br><span class="line">    monkeypatch.setattr(&apos;test_class_pytest.Square&apos;, MagicMock(Square))</span><br><span class="line">    sq = Square</span><br><span class="line">    sq.calculate_area.return_value = 1</span><br><span class="line">    assert sq.calculate_area() ==  1</span><br></pre></td></tr></table></figure>
<p>The issue here is with <code>test_mocking_class_methods</code> which works well in python 3 but not in python 2. Right now I don’t have clear answer to this so if you can help I appreciate this!</p>
<p>All examples can be found under this <a href="https://github.com/krzysztofzuraw/personal-blog-projects/tree/master/blog_mocks" target="_blank" rel="noopener">repo</a>.</p>
<h1 id="References"><a href="#References" class="headerlink" title="References:"></a>References:</h1><ol>
<li><a href="http://stackoverflow.com/questions/2665812/what-is-mocking" target="_blank" rel="noopener">What is mocking</a>.</li>
<li><a href="http://manishamde.github.io/blog/2013/10/06/mocking-python-with-kung-fu-panda/#mock_classes" target="_blank" rel="noopener">Mocking Python With Kung Fu Panda</a>.</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://tonytan748.github.io/2017/09/09/Mocks-and-monkeypatching-in-python/" data-id="cm50h3rar0063yfhtm4kf6atr" class="article-share-link">Share</a>
      
        <a href="https://tonytan748.github.io/2017/09/09/Mocks-and-monkeypatching-in-python/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/06/12/Enhance-your-Python-with-an-interactive-shell/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Enhance your Python with an interactive shell
        
      </div>
    </a>
  
  
    <a href="/2017/08/19/Nevwe-Write-For-Loops-Again/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Nevwe Write For-Loops Again</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Github/">Github</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Karrigell/">Karrigell</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/VIM/">VIM</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/conda/">conda</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/django/">django</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ffmpeg/">ffmpeg</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/freeswitch/">freeswitch</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/go/">go</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jekyll/">jekyll</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/kivy/">kivy</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/linux/mac/">mac</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/nginx/">nginx</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/normal/">normal</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/sqlalchemy/">sqlalchemy</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system/">system</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/tornado/">tornado</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ubuntu/">ubuntu</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/conda/">conda</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/django/">django</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/django-celery/">django-celery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ffmpeg/">ffmpeg</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flask/">flask</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/freeswitch/">freeswitch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go/">go</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mac/">mac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/other/">other</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlalchemy/">sqlalchemy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/system/">system</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tornado/">tornado</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/">ubuntu</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/conda/" style="font-size: 10px;">conda</a> <a href="/tags/django/" style="font-size: 18px;">django</a> <a href="/tags/django-celery/" style="font-size: 10px;">django-celery</a> <a href="/tags/ffmpeg/" style="font-size: 10px;">ffmpeg</a> <a href="/tags/flask/" style="font-size: 10px;">flask</a> <a href="/tags/freeswitch/" style="font-size: 10px;">freeswitch</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/go/" style="font-size: 14px;">go</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/linux/" style="font-size: 16px;">linux</a> <a href="/tags/mac/" style="font-size: 10px;">mac</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/other/" style="font-size: 12px;">other</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/sqlalchemy/" style="font-size: 10px;">sqlalchemy</a> <a href="/tags/system/" style="font-size: 12px;">system</a> <a href="/tags/tornado/" style="font-size: 10px;">tornado</a> <a href="/tags/ubuntu/" style="font-size: 10px;">ubuntu</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">December 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">August 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">July 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">June 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">May 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">April 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">March 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">February 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">January 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">December 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">November 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">October 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">September 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">August 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">June 2014</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/12/23/Python-Typing类型提示/">Python Typing类型提示</a>
          </li>
        
          <li>
            <a href="/2024/12/23/Python-Tempfile临时文件系统对象/">Python Tempfile临时文件系统对象</a>
          </li>
        
          <li>
            <a href="/2024/12/23/Python-Pathlib处理文件路径库的使用/">Python Pathlib处理文件路径库的使用</a>
          </li>
        
          <li>
            <a href="/2024/08/31/在ubuntu上的18个非常实用的命令行工具软件/">在ubuntu上的18个非常实用的命令行工具软件</a>
          </li>
        
          <li>
            <a href="/2024/08/20/什么是动态规划？在Python中如何利用动态规划解决实际问题？/">什么是动态规划？在Python中如何利用动态规划解决实际问题？</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2024 Tony Tan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'TonyTan';
  
  var disqus_url = 'https://tonytan748.github.io/2017/09/09/Mocks-and-monkeypatching-in-python/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>